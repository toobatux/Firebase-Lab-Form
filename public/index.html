<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forms</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-firestore.js"></script>
</head>

<body style="background-color: lightgray">
    <div class="row justify-content-center" style="margin-top: 100px; margin-bottom: 100px;">
        <div class="card border-secondary mb-3" style="width: 35rem; padding: 25px;">
            <div class="text-center">
                <h4>Forensic Imaging Registration</h4>
            </div>
            <hr />
            <form>
                <div class="row" style="margin:20px;">
                    <div class="col">
                        <div class="form-group">
                            <label for="fname">First name:</label>
                            <input type="text" id="fname" name="fname">
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            <label for="lname">Last name:</label>
                            <input type="text" id="lname" name="lname">
                        </div>
                    </div>
                </div>
                <div class="row" style="margin-left:20px;">
                    <div class="col">
                        <div class="form-group">
                            <label for="course">Course:</label>
                            <select id="course" name="course">
                                <option value="CS226">CS226</option>
                                <option value="CS325">CS325</option>
                            </select>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            <label for="artifact">Artifact:</label>
                            <select id="artifact" name="artifact">
                                <option value="phone">Phone</option>
                                <option value="harddrive">Hard Drive</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="row" style="margin-left:20px;">
                    <div class="col">
                        <div class="form-group">
                            <label for="room">Room:</label>
                            <select id="room" name="room">
                                <option value="W210">W210</option>
                                <option value="W212">W212</option>
                            </select>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            <label for="station">Workstation:</label>
                            <select id="station" name="station">
                                <option value="201">201</option>
                                <option value="202">202</option>
                                <option value="203">203</option>
                                <option value="204">204</option>
                                <option value="205">205</option>
                                <option value="206">206</option>
                                <option value="207">207</option>
                                <option value="208">208</option>
                                <option value="209">209</option>
                                <option value="210">210</option>
                                <option value="211">211</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="row justify-content-center" style="margin-top:30px;">
                    <div class="form-group">
                        <input type="radio" name="date" id="date" value="Monday">
                        <label for="Monday">Mon</label>
                        <input type="radio" name="date" id="date" value="Tuesday">
                        <label for="Tuesday">Tue</label>
                        <input type="radio" name="date" id="date" value="Wednesday">
                        <label for="Wednesday">Wed</label>
                        <input type="radio" name="date" id="date" value="Thursday">
                        <label for="Thursday">Thur</label>
                        <input type="radio" name="date" id="date" value="Friday">
                        <label for="Friday">Fri</label>
                        <input type="radio" name="date" id="date" value="Sunday">
                        <label for="Sunday">Sun</label>
                    </div>
                </div>
                <div class="row justify-content-center">
                    <div class="form-group">
                        <label for="time">Time:</label>
                        <select id="time" name="time">
                            <option value="700">7:00</option>
                            <option value="730">7:30</option>
                            <option value="800">8:00</option>
                            <option value="830">8:30</option>
                            <option value="900">9:00</option>
                            <option value="930">9:30</option>
                            <option value="1000">10:00</option>
                            <option value="1030">10:30</option>
                            <option value="1100">11:00</option>
                            <option value="1130">11:30</option>
                            <option value="1200">12:00</option>
                            <option value="1230">12:30</option>
                            <option value="1300">13:00</option>
                            <option value="1330">13:30</option>
                            <option value="1400">14:00</option>
                            <option value="1430">14:30</option>
                            <option value="1500">15:00</option>
                            <option value="1530">15:30</option>
                            <option value="1600">16:00</option>
                            <option value="1630">16:30</option>
                            <option value="1700">17:00</option>
                            <option value="1750">17:30</option>
                            <option value="1800">18:00</option>
                            <option value="1830">18:30</option>
                            <option value="1900">19:00</option>
                            <option value="1930">19:30</option>
                            <option value="2000">20:00</option>
                            <option value="2030">20:30</option>
                            <option value="2100">21:00</option>
                            <option value="2130">21:30</option>
                            <option value="2200">22:00</option>
                            <option value="2230">22:30</option>
                            <option value="2300">23:00</option>
                        </select>
                    </div>
                </div>
                <div class="row">
                    <button id="submit_msg" type="button" class="btn btn-primary btn-lg btn-block"
                        style="margin: 20px;">Submit</button>
                </div>
            </form>
        </div>
    </div>
<script>
    (function() {
    const firebaseConfig = {
        apiKey: "AIzaSyAk2e-TAVz2A15hJ7mo3_APrm7NgWJAHw4",
        authDomain: "forms-beeee.firebaseapp.com",
        projectId: "forms-beeee",
        storageBucket: "forms-beeee.appspot.com",
        messagingSenderId: "637029528424",
        appId: "1:637029528424:web:ec5044642300cc39da9cdd",
        measurementId: "G-Y83T3ZLFWY"
    };

    // Initialize firebase
    firebase.initializeApp(firebaseConfig);

    var push_to_firebase = function(data) {
        alert("Request Submitted.")
        var db = firebase.firestore();

        db.collection("forms").add({
            fname: data["fname"],
            lname: data["lname"],
            course: data["course"],
            artifact: data["artifact"],
            room: data["room"],
            station: data["station"],
            date: data["date"],
            time: data["time"]
        })
        .then(function(docRef) {
            console.log("Form sent, ID: ", docRef.id);
            location.reload();
        })
        .catch(function(error) {
            console.error("Form could not be sent: ", error);
        });
    }

    var form_submit = function() {
        var fname = document.getElementById("fname");
        var lname = document.getElementById("lname");
        var course = document.getElementById("course");
        var artifact = document.getElementById("artifact");
        var room = document.getElementById("room");
        var station = document.getElementById("station");
        var date = document.getElementById("date");
        var time = document.getElementById("time");

        var data = {
            "fname": fname.value,
            "lname": lname.value,
            "course": course.value,
            "artifact": artifact.value,
            "room": room.value,
            "station": station.value,
            "date": date.value,
            "time": time.value
        }
        push_to_firebase(data);

    }

    document.getElementById("submit_msg").addEventListener("click", form_submit);
}());
</script>
</body>

</html>